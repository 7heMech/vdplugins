(function(r,t,a,e,o){"use strict";const d=t.findByProps("setShouldSyncAppearanceSettings"),i=t.find(function(n){return n.default?.canUseClientThemes}),s=t.findByProps("updateBackgroundGradientPreset"),{ClientThemesMobileExperiment:u}=t.findByProps("ClientThemesMobileExperiment");e.storage.isEnabled??=!1,u.getCurrentConfig().hasClientThemes=!0,d.setShouldSyncAppearanceSettings(!1),e.storage.theme&&e.storage.isEnabled&&s.updateBackgroundGradientPreset(e.storage.theme);const c=[a.instead("setShouldSyncAppearanceSettings",d,function(){return!e.storage.isEnabled}),a.instead("canUseClientThemes",o.unfreeze(i.default),function(){return!0}),a.after("updateMobilePendingThemeIndex",s,function(n){e.storage.isEnabled=n[0]>1}),a.after("updateBackgroundGradientPreset",s,function(n){e.storage.theme=n[0]})],f=function(){for(const n of c)n()};return r.onUnload=f,r})({},vendetta.metro,vendetta.patcher,vendetta.plugin,vendetta.utils);
