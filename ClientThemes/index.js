(function(o,t,s,e,d){"use strict";const r=t.findByProps("setShouldSyncAppearanceSettings"),i=t.findByProps("canUseClientThemes"),a=t.findByProps("updateBackgroundGradientPreset"),{ClientThemesMobileExperiment:c}=t.findByProps("ClientThemesMobileExperiment");e.storage.isEnabled??=!1,c.getCurrentConfig().hasClientThemes=!0,r.setShouldSyncAppearanceSettings(!1),e.storage.theme&&e.storage.isEnabled&&a.updateBackgroundGradientPreset(e.storage.theme);const u=[s.instead("setShouldSyncAppearanceSettings",r,function(){return!e.storage.isEnabled}),s.instead("canUseClientThemes",d.unfreeze(i),function(){return!0}),s.after("updateMobilePendingThemeIndex",a,function(n){e.storage.isEnabled=n[0]>1}),s.after("updateBackgroundGradientPreset",a,function(n){e.storage.theme=n[0]})],f=function(){for(const n of u)n()};return o.onUnload=f,o})({},vendetta.metro,vendetta.patcher,vendetta.plugin,vendetta.utils);
