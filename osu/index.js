(function(i,t,f,p,o,y,I,R){"use strict";const{ScrollView:A,Text:r}=t.ReactNative,{FormSection:C,FormInput:T,FormDivider:S}=f.Forms,s=t.stylesheet.createThemedStyleSheet({subText:{fontSize:14,marginHorizontal:15,color:p.semanticColors.TEXT_MUTED,fontFamily:t.constants.Fonts.PRIMARY_NORMAL},textLink:{color:p.semanticColors.TEXT_LINK}});function g(){const e=y.useProxy(o.storage);return t.React.createElement(A,{style:{flex:1,marginHorizontal:3,marginVertical:3}},t.React.createElement(C,{title:"apiv2 configuration",titleStyleType:"no_border"},t.React.createElement(r,{style:s.subText},"You will need to register an OAuth application on your ",t.React.createElement(r,{style:s.textLink,onPress:function(){return t.url.openURL("https://osu.ppy.sh/home/account/edit#new-oauth-application")}},"account settings page"),"."),t.React.createElement(r,{style:s.subText},"Application Callback URL is not required!"),t.React.createElement(T,{title:"Client ID",value:e.clientID,placeholder:"00000",onChangeText:function(n){return e.clientID=n}}),t.React.createElement(T,{title:"Client Secret",value:e.clientSecret,placeholder:"asdfghjkl",onChangeText:function(n){return e.clientSecret=n}})),t.React.createElement(S,null))}var c;(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(c||(c={}));var l;(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(l||(l={}));var u;(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(u||(u={}));const h=function(e){return I.registerCommand({displayName:e.name,displayDescription:e.description,applicationId:"-1",type:u.CHAT,inputType:c.BUILT_IN_TEXT,options:e.options??[],...e})},L=function(){return!o.storage.clientID||isNaN(parseFloat(o.storage.clientID))||!o.storage.clientSecret},m=async function(e){const n=await fetch("https://quickchart.io/chart/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw new Error("Failed to generate chart");return(await n.json()).url},{sendBotMessage:d}=R.findByProps("sendBotMessage");var O=h({name:"profile",description:"Display statistics of a user",options:[{name:"name",displayName:"name",description:"Specify a username",displayDescription:"Specify a username",type:l.STRING}],async execute(e,n){if(L())return d(n.channel.id,"Please set apiv2 configuration in plugin settings.");e.find(function(a){return a?.name==="name"})?.value;const M=await m({backgroundColor:"#36393e",chart:{type:"line",data:{labels:["89","85","81","77","73"],datasets:[{data:[3200,3520,3052,3730,4503],fill:!1,borderColor:"orange",pointRadius:0}]},options:{scales:{xAxes:[{ticks:{fontColor:"white",callback:function(a){return a.toLocaleString()}}}],yAxes:[{ticks:{fontColor:"white",min:0,callback:function(a){return a.toLocaleString()}}}]},legend:{display:!1},title:{display:!0,text:"osu plugin test",fontColor:"white"}}}});return d(n.channel.id,M)}}),N=[O];const U=function(){return N},B=function(){for(const e of N)e()},_=g;return i.onLoad=U,i.onUnload=B,i.settings=_,i})({},vendetta.metro.common,vendetta.ui.components,vendetta.ui,vendetta.plugin,vendetta.storage,vendetta.commands,vendetta.metro);
