(function(a,t,f,d,i,y,N,g){"use strict";const{ScrollView:S,Text:o}=t.ReactNative,{FormSection:h,FormInput:p,FormDivider:R}=f.Forms,r=t.stylesheet.createThemedStyleSheet({subText:{fontSize:14,marginHorizontal:15,color:d.semanticColors.TEXT_MUTED,fontFamily:t.constants.Fonts.PRIMARY_NORMAL},textLink:{color:d.semanticColors.TEXT_LINK}});function C(){const e=y.useProxy(i.storage);return t.React.createElement(S,{style:{flex:1,marginHorizontal:3,marginVertical:3}},t.React.createElement(h,{title:"apiv2 configuration",titleStyleType:"no_border"},t.React.createElement(o,{style:r.subText},"You will need to register an OAuth application on your ",t.React.createElement(o,{style:r.textLink,onPress:function(){return t.url.openURL("https://osu.ppy.sh/home/account/edit#new-oauth-application")}},"account settings page"),"."),t.React.createElement(o,{style:r.subText},"Application Callback URL is not required!"),t.React.createElement(p,{title:"Client ID",value:e.clientID,placeholder:"00000",onChangeText:function(n){return e.clientID=n}}),t.React.createElement(p,{title:"Client Secret",value:e.clientSecret,placeholder:"asdfghjkl",onChangeText:function(n){return e.clientSecret=n}})),t.React.createElement(R,null))}var s;(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(s||(s={}));var l;(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(l||(l={}));var c;(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(c||(c={}));const I=function(e){return N.registerCommand({displayName:e.name,displayDescription:e.description,applicationId:"-1",type:c.CHAT,inputType:s.BUILT_IN_TEXT,options:e.options??[],...e})},m=function(){return!i.storage.clientID||isNaN(parseFloat(i.storage.clientID))||!i.storage.clientSecret},A=async function(e){const n=await fetch("https://quickchart.io/chart/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L(e))});if(!n.ok)throw new Error("Failed to generate chart");return(await n.json()).url},L=function(e){return{backgroundColor:"#36393e",chart:{type:"line",data:{labels:e.labels,datasets:[{data:e.data,borderJoinStyle:"round",borderCapStyle:"round",fill:!1,borderColor:"#ffcc22",lineTension:.1,pointRadius:0}]},options:{scales:{xAxes:[{scaleLabel:{display:!0,labelString:"Days ago",fontSize:12,fontStyle:"bold",fontColor:"white",fontFamily:"sans-serif",lineHeight:1.2,padding:4},gridLines:{display:!1},ticks:{fontColor:"white"}}],yAxes:[{scaleLabel:{display:!0,labelString:"Rank",fontSize:12,fontStyle:"bold",fontColor:"white",fontFamily:"sans-serif",padding:4},grindLines:{display:!1,color:"white",drawBorder:!0,tickMarkLength:10},ticks:{reverse:!0,fontColor:"white",fontFamily:"sans-serif"}}]},legend:{display:!1},title:{display:!0,text:`${e.name}'s Rank History`,fontSize:15,fontColor:"white",fontFamily:"sans-serif",fontStyle:"bold",padding:10,lineHeight:1.2},plugins:{tickFormat:{useGrouping:!0}}}}}},{sendBotMessage:u}=g.findByProps("sendBotMessage");var O=I({name:"profile",description:"Display statistics of a user",options:[{name:"name",displayName:"name",description:"Specify a username",displayDescription:"Specify a username",type:l.STRING}],async execute(e,n){if(m())return u(n.channel.id,"Please set apiv2 configuration in plugin settings.");e.find(function(b){return b?.name==="name"})?.value;const _=await A({name:"sapphire",labels:[89,88,87,86,85,84,83,82,81,80,79,78,77,76,75,74,73,72,71,70,69,68,67,66,65,64,63,62,61,60,59,58,57,56,55,54,53,52,51,50,49,48,47,46,45,44,43,42,41,40,39,38,37,36,35,34,33,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,0],data:[3218,3218,3189,3192,3194,3198,3201,3204,3209,3213,3219,3221,3225,3230,3232,3234,3236,3239,3244,3248,3251,3252,3254,3257,3262,3265,3271,3275,3278,3281,3283,3283,3290,3293,3296,3300,3301,3304,3307,3308,3259,3262,3266,3266,3245,3250,3255,3258,3266,3271,3275,3283,3288,3295,3298,3306,3311,3314,3321,3325,3316,3321,3325,3327,3328,3329,3334,3339,3345,3302,3303,3309,3309,3313,3315,3319,3320,3324,3328,3331,3336,3284,3286,3292,3293,3294,3299,3298,3301,3300]});return u(n.channel.id,_)}}),T=[O];const U=function(){return T},B=function(){for(const e of T)e()},M=C;return a.onLoad=U,a.onUnload=B,a.settings=M,a})({},vendetta.metro.common,vendetta.ui.components,vendetta.ui,vendetta.plugin,vendetta.storage,vendetta.commands,vendetta.metro);
