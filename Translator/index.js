(function(c,o,f,g,m,l){"use strict";const u=["auto","am","ar","ay","as","ak","az","be","bg","bm","bn","co","cs","bs","da","ca","ca","de","ee","dv","dv","dv","en","el","et","eo","eu","es","es","fi","fr","fa","ga","gl","gn","fy","gu","gd","gd","ha","hr","he","hi","ht","ht","hy","id","hu","ig","is","it","ka","jv","ja","ko","kk","kn","af","km","cy","ku","ky","ky","la","lb","lb","lg","lo","lv","ln","lt","mg","mk","ml","mi","mr","nb","mn","my","mt","ne","ms","nl","nl","ny","ny","ny","no","om","or","pa","pa","pl","qu","ps","ps","ru","sa","ro","ro","ro","sl","rw","sk","si","si","sm","sn","so","sr","sq","sw","st","sv","su","ta","tg","te","tl","tk","ti","th","ts","sd","pt","tw","tr","tt","ur","uk","ug","ug","uz","vi","yi","xh","zh-tw","zh-cn","zu","yo"],p=async function(r,s,a){if(!u.find(function(n){return n===s})&&!u.find(function(n){return n===a}))throw new Error("Invalid Lang!");const t=await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=${s}&tl=${a}&dt=t&q=${encodeURIComponent(r)}`);if(!t.ok)throw new Error("Error!");const e=await t.json();if(!e)throw new Error("Error!");return e&&e[0]&&e[0][0]&&e[0].map(function(n){return n[0]}).join("")},d=o.findByProps("openLazy","hideActionSheet"),y=o.findByStoreName("MessageStore");o.findByStoreName("ChannelStore");const k=o.findByName("Icon"),{FormRow:w}=m.Forms,v=l.before("openLazy",d,function(r){const[s,a,t]=r;a==="MessageLongPressActionSheet"&&s.then(function(e){const n=l.after("default",e,function(S,b){let h=b?.props?.children?.props?.children?.props?.children[1];h&&(h.push(React.createElement(w,{label:"Translate Message",leading:React.createElement(k,{source:g.getAssetIDByName("ic_locale_24px")}),onPress:async function(){d.hideActionSheet();try{const i=await p(t.content,"auto","ko"),z=y.getMessage(t.channel_id,t.id);f.FluxDispatcher.dispatch({type:"MESSAGE_UPDATE",message:{...t,content:`${i}`},log_edit:!1})}catch(i){console.error(i)}}})),n())})})}),E=function(){return v()};return c.onUnload=E,c})({},vendetta.metro,vendetta.metro.common,vendetta.ui.assets,vendetta.ui.components,vendetta.patcher);
