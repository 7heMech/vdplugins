(function(c,u,r,y,n,e,i,l){"use strict";const R=function(s){const t=JSON.parse(JSON.stringify(s));for(const a in t.author)switch(a){case"email":case"phone":case"mfaEnabled":case"hasBouncedEmail":delete t.author[a]}return t},{default:h}=n.findByProps("DCDAutoModerationSystemMessageView","default"),B=n.findByName("MessageRecord"),w=n.findByName("RowManager"),{ScrollView:b}=e.ReactNative;function N(s){let{message:t}=s;const a=e.React.useMemo(function(){return JSON.stringify(R(t),null,4)},[t.id]),o={marginBottom:8};return e.React.createElement(e.React.Fragment,null,e.React.createElement(b,{style:{flex:1,marginHorizontal:13,marginVertical:10}},e.React.createElement(i.Button,{style:o,text:"Copy Raw Content",color:"brand",size:"small",disabled:!t.content,onPress:function(){e.clipboard.setString(t.content),l.showToast("Copied content to clipboard",r.getAssetIDByName("toast_copy_link"))}}),e.React.createElement(i.Button,{text:"Copy Raw Data",style:o,color:"brand",size:"small",onPress:function(){e.clipboard.setString(a),l.showToast("Copied data to clipboard",r.getAssetIDByName("toast_copy_link"))}}),e.React.createElement(h,{rowGenerator:new w,message:new B({id:"0",channel_id:t.channel_id,author:t.author,content:t.content+`



\`\`\`js
`+a+"\n```"})})))}const d=n.findByProps("openLazy","hideActionSheet"),f=n.findByProps("push","pushLazy","pop"),P=n.findByProps("getRenderCloseButton")?.getRenderCloseButton??n.findByProps("getHeaderCloseButton")?.getHeaderCloseButton,v=n.findByName("Navigator")??n.findByProps("Navigator")?.Navigator,{FormRow:E,FormIcon:C}=i.Forms,S=u.before("openLazy",d,function(s){let[t,a,o]=s;const g=o?.message;a!=="MessageLongPressActionSheet"||!g||t.then(function(A){const M=u.after("default",A,function(I,z){e.React.useEffect(function(){return function(){M()}},[]);const p=y.findInReactTree(z,function(L){return L?.[0]?.type?.name==="ButtonRow"});if(!p)return;const D=function(){return e.React.createElement(v,{initialRouteName:"RawPage",goBackOnBackPress:!0,screens:{RawPage:{title:"ViewRaw",headerLeft:P?.(function(){return f.pop()}),render:function(){return e.React.createElement(N,{message:g})}}}})};p.push(e.React.createElement(E,{label:"View Raw",leading:e.React.createElement(C,{style:{opacity:1},source:r.getAssetIDByName("ic_chat_bubble_16px")}),onPress:function(){d.hideActionSheet(),f.push(D)}}))})})}),_=function(){return S()};return c.onUnload=_,c})({},vendetta.patcher,vendetta.ui.assets,vendetta.utils,vendetta.metro,vendetta.metro.common,vendetta.ui.components,vendetta.ui.toasts);
